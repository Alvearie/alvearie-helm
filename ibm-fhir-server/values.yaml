# Default values for chart.

# -- Optional override for the fully qualified name of the created kube resources
fullnameOverride:
# -- Optional override for chart name portion of the created kube resources
nameOverride:

# -- The number of replicas for the externally-facing FHIR server pods
replicaCount: 2
# -- The number of replicas for the internal-access FHIR server pods
ingestionReplicas: 2
image:
  repository: ibmcom/ibm-fhir-server
  tag: "4.9.0"
  pullPolicy: Always
  # for local development against Minikube registry
  #pullPolicy: Never
  pullSecret: all-icr-io
# -- Set to true to restrict the API to a particular set of resource type endpoints
restrictEndpoints: false
# -- Control which interactions are supported for which resource type endpoints
# @default -- A single entry for resourceType "Resource" that applies to all resource types
endpoints:
  -
    # -- A valid FHIR resource type; use "Resource" for whole-system behavior
    resourceType: Resource
    # -- (list) Valid _include arguments while searching this resource type; nil means no restrictions
    searchIncludes:
    # -- (list) Valid _revInclude arguments while searching this resource type; nil means no restrictions
    searchRevIncludes:
    # -- (list) Instances of this type must must claim conformance to at least one of the listed profiles
    profiles:
    # -- A mapping from enabled search parameter codes to search parameter definitions
    searchParameters:
      - code: "*"
        url: "*"
    # -- The set of enabled interactions for this resource type:
    # create | read | vread | history | search | update | patch | delete
    # @default -- All interactions.
    interactions:
      - create
      - read
      - vread
      - history
      - search
      - update
      - patch
      - delete
db:
  type: postgresql
  host: postgres
  port: 5432
  enableTls: false
  name: postgres
  user: postgres
  passwordSecret: postgres
  schema: fhirdata
schemaMigration:
  enabled: true
  image:
    repository: ibmcom/ibm-fhir-schematool
    tag: "4.9.0"
    pullPolicy: Always
    pullSecret: all-icr-io
fhirUserPassword: change-password
fhirAdminPassword: change-password
serverRegistryResourceProviderEnabled: true
audit:
  enabled: false
  kafkaServers:
  kafkaApiKey:
  kafka:
    bootstrapServers:
    securityProtocol: SASL_SSL
    saslMechanism: PLAIN
    saslJaasConfig:
    sslEnabledProtocols: TLSv1.2
    sslProtocol: TLSv1.2
    sslEndpointIdentificationAlgorithm: HTTPS
  # -- The target Kafka topic for audit events
  topic: FHIR_AUDIT_DEV
  # -- `cadf` or `auditevent`
  type: auditevent
  # -- The city where the server is running
  geoCity:
  # -- The state where the server is running
  geoState:
  # -- The country where the server is running
  geoCountry:
notifications:
  kafka:
    enabled: false
    topicName:
    bootstrapServers:
    securityProtocol: SASL_SSL
    saslMechanism: PLAIN
    saslJaasConfig:
    sslEnabledProtocols: TLSv1.2
    sslProtocol: TLSv1.2
    sslEndpointIdentificationAlgorithm: HTTPS
  nats:
    enabled: false
    cluster:
    channel:
    clientId:
    servers:
    useTLS: true
    truststoreLocation:
    truststorePassword:
    keystoreLocation:
    keystorePassword:
objectStorage:
  enabled: false
  location:
  endpointUrl:
  accessKey:
  secretKey:
  # -- Bucket names must be globally unique
  bulkDataBucketName:
  batchIdEncryptionKey:
ingress:
  enabled: true
  annotations: {}
  # -- The default cluster hostname, used for both ingress.rules.host and ingress.tls.hosts.
  # If you have more than one, you'll need to set overrides for the rules and tls separately.
  hostname: fhir.example.com
  rules:
    - host: "{{ .Release.Name }}.{{ $.Values.ingress.hostname }}"
      paths:
        - "/"
  servicePort: https
  tls:
    - secretName: ""
      hosts:
        - "{{ $.Values.ingress.hostname }}"
resources:
  requests:
    memory: "4Gi"
    ephemeral-storage: "1Gi"
  limits:
    memory: "5Gi"
    ephemeral-storage: "1Gi"
